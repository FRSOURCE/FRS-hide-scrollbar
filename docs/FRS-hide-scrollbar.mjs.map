{"version":3,"file":"FRS-hide-scrollbar.mjs","sources":["../src/scripts/FRSHideScrollbar.mjs"],"sourcesContent":["export const FRSHideScrollbar = window.FRSHideScrollbar || {}\nconst CONFIG = FRSHideScrollbar.config = FRSHideScrollbar.config || {}\nlet CONFIG_OLD\n\nFRSHideScrollbar.refreshScrollWidth = refreshScrollWidth\nFRSHideScrollbar.createNewChild = createNewChild\nFRSHideScrollbar.updateStyles = updateStyles\n\nCONFIG.className = CONFIG.className || 'frs-hide-scroll'\nCONFIG.wrapperClassName = CONFIG.wrapperClassName || 'frs-hide-scroll-wrapper'\nCONFIG.styleElement = CONFIG.styleElement ||\n  document.getElementsByTagName('style')[0] ||\n  createNewChild('style', document.head)\nCONFIG.autoInit = CONFIG.autoInit === void 0 ? true : CONFIG.autoInit\n\nif (CONFIG.autoInit) {\n  initHandlers()\n}\n\n//\n\nfunction initHandlers () {\n  if (!document.readyState || document.readyState === 'loading') {\n    window.addEventListener('load', refreshScrollWidth, {passive: true})\n  } else {\n    refreshScrollWidth()\n  }\n\n  window.addEventListener('resize', refreshScrollWidth, {passive: true})\n}\n\nfunction refreshScrollWidth () {\n  const _el = createNewChild('div', document.body)\n  _el.style.position = 'absolute'\n  _el.style['z-index'] = '-1'\n  _el.style.width = '100px'\n  _el.style.overflow = 'scroll'\n\n  const scrollWidth = _el.offsetWidth - _el.clientWidth\n\n  document.body.removeChild(_el)\n\n  if (scrollWidth !== CONFIG.scrollWidth) {\n    CONFIG.scrollWidth = scrollWidth\n    updateStyles()\n  }\n\n  return scrollWidth\n}\n\nfunction createNewChild (_tagName, _parent) {\n  return _parent.appendChild(document.createElement(_tagName))\n}\n\nfunction updateStyles (_styleElement = CONFIG.styleElement, _cfgOld = CONFIG_OLD) {\n  if (_cfgOld) {\n    const styleElementOld = _cfgOld.styleElement\n    const lio = styleElementOld.innerText\n      .lastIndexOf('.' + _cfgOld.className + '{margin-right:-')\n\n    styleElementOld.innerText = styleElementOld.innerText.substring(0, lio)\n  }\n\n  if (CONFIG.scrollWidth === 0) {\n    return\n  }\n\n  CONFIG_OLD = Object.assign({}, CONFIG) // copying the current CONFIG object\n  _styleElement.innerText += '.' + CONFIG.className +\n    '{margin-right:-' +\n    // additional 0.5px because of chrome rounding bug\n    (CONFIG.scrollWidth + .5) +\n    'px;height:calc(100% + ' +\n    CONFIG.scrollWidth + 'px)}'\n}\n"],"names":["CONFIG_OLD","FRSHideScrollbar","window","CONFIG","config","refreshScrollWidth","_el","createNewChild","document","body","style","position","width","overflow","scrollWidth","offsetWidth","clientWidth","removeChild","updateStyles","_tagName","_parent","appendChild","createElement","_styleElement","_cfgOld","styleElement","styleElementOld","lio","innerText","lastIndexOf","className","substring","Object","assign","wrapperClassName","getElementsByTagName","head","autoInit","readyState","addEventListener","passive"],"mappings":"IAEIA,EAFSC,EAAmBC,OAAOD,kBAAoB,GACrDE,EAASF,EAAiBG,OAASH,EAAiBG,QAAU,GA8BpE,SAASC,QACDC,EAAMC,EAAe,MAAOC,SAASC,MAC3CH,EAAII,MAAMC,SAAW,WACrBL,EAAII,MAAM,WAAa,KACvBJ,EAAII,MAAME,MAAQ,QAClBN,EAAII,MAAMG,SAAW,aAEfC,EAAcR,EAAIS,YAAcT,EAAIU,mBAE1CR,SAASC,KAAKQ,YAAYX,GAEtBQ,IAAgBX,EAAOW,cACzBX,EAAOW,YAAcA,EACrBI,KAGKJ,EAGT,SAASP,EAAgBY,EAAUC,UAC1BA,EAAQC,YAAYb,SAASc,cAAcH,IAGpD,SAASD,EAAcK,EAAqCC,qBAArBrB,EAAOsB,6BAAwBzB,GAChEwB,EAAS,KACLE,EAAkBF,EAAQC,aAC1BE,EAAMD,EAAgBE,UACzBC,YAAY,IAAML,EAAQM,UAAY,mBAEzCJ,EAAgBE,UAAYF,EAAgBE,UAAUG,UAAU,EAAGJ,GAG1C,IAAvBxB,EAAOW,cAIXd,EAAagC,OAAOC,OAAO,GAAI9B,GAC/BoB,EAAcK,WAAa,IAAMzB,EAAO2B,UACtC,mBAEC3B,EAAOW,YAAc,IACtB,yBACAX,EAAOW,YAAc,QArEzBb,EAAiBI,mBAAqBA,EACtCJ,EAAiBM,eAAiBA,EAClCN,EAAiBiB,aAAeA,EAEhCf,EAAO2B,UAAY3B,EAAO2B,WAAa,kBACvC3B,EAAO+B,iBAAmB/B,EAAO+B,kBAAoB,0BACrD/B,EAAOsB,aAAetB,EAAOsB,cAC3BjB,SAAS2B,qBAAqB,SAAS,IACvC5B,EAAe,QAASC,SAAS4B,MACnCjC,EAAOkC,cAA+B,IAApBlC,EAAOkC,UAA6BlC,EAAOkC,SAEzDlC,EAAOkC,WAOJ7B,SAAS8B,YAAsC,YAAxB9B,SAAS8B,WAGnCjC,IAFAH,OAAOqC,iBAAiB,OAAQlC,EAAoB,CAACmC,SAAS,IAKhEtC,OAAOqC,iBAAiB,SAAUlC,EAAoB,CAACmC,SAAS"}